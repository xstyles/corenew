{"version":3,"sources":["../../../../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../../../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../../../../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../../../../node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../../../node_modules/@babel/runtime/helpers/slicedToArray.js","bp-members/js/blocks/members/constants.js","bp-members/js/blocks/members/edit.js","bp-members/js/blocks/members.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","module","exports","__esModule","arrayLikeToArray","require","_arrayWithoutHoles","isArray","_iterableToArray","iter","Symbol","iterator","from","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_nonIterableSpread","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_toConsumableArray","_arrayWithHoles","_iterableToArrayLimit","_i","_arr","_s","_e","_n","_d","next","done","push","value","err","_nonIterableRest","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_slicedToArray","wp","__","i18n","AVATAR_SIZES","label","EXTRA_DATA","editMembersBlock","blockEditor","InspectorControls","BlockControls","components","Placeholder","PanelBody","SelectControl","ToggleControl","Button","Dashicon","Tooltip","ToolbarGroup","RangeControl","element","createElement","Fragment","useState","sprintf","apiFetch","addQueryArgs","url","bp","AutoCompleter","blockComponents","isActive","blockData","lodash","reject","remove","sortBy","getSlugValue","item","mention_name","attributes","membersList","setAttributes","isSelected","isAvatarEnabled","isMentionEnabled","itemIDs","avatarSize","displayMentionSlug","displayUserName","extraData","layoutPreference","columns","hasMembers","members","setMembers","layoutControls","icon","title","onClick","containerClasses","extraDataOptions","filter","extra","path","populate_extras","include","then","items","indexOf","id","map","member","hasActivity","memberItemClasses","latest_update","rendered","itemID","link","avatar_urls","__html","last_activity","date","timediff","option","exclude","parseInt","registerBlockType","blocks","description","background","foreground","src","category","type","default","edit"],"mappings":"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","file":"members.js","sourceRoot":"../src/js","sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * WordPress dependencies.\n */\nconst {\n\ti18n: {\n\t\t__,\n\t},\n} = wp;\n\n/**\n * Avatar sizes.\n *\n * @type {Array}\n */\nexport const AVATAR_SIZES = [\n\t{\n\t\tlabel: __( 'None', 'buddypress' ),\n\t\tvalue: 'none',\n\t},\n\t{\n\t\tlabel: __( 'Thumb', 'buddypress' ),\n\t\tvalue: 'thumb',\n\t},\n\t{\n\t\tlabel: __( 'Full', 'buddypress' ),\n\t\tvalue: 'full',\n\t},\n];\n\n/**\n * BuddyPress Extra data.\n *\n * @type {Array}\n */\nexport const EXTRA_DATA = [\n\t{\n\t\tlabel: __( 'None', 'buddypress' ),\n\t\tvalue: 'none',\n\t},\n\t{\n\t\tlabel: __( 'Last time the user was active', 'buddypress' ),\n\t\tvalue: 'last_activity',\n\t},\n\t{\n\t\tlabel: __( 'Latest activity the user posted', 'buddypress' ),\n\t\tvalue: 'latest_update',\n\t},\n];\n","/**\n * WordPress dependencies.\n */\nconst {\n\tblockEditor: {\n\t\tInspectorControls,\n\t\tBlockControls,\n\t},\n\tcomponents: {\n\t\tPlaceholder,\n\t\tPanelBody,\n\t\tSelectControl,\n\t\tToggleControl,\n\t\tButton,\n\t\tDashicon,\n\t\tTooltip,\n\t\tToolbarGroup,\n\t\tRangeControl,\n\t},\n\telement: {\n\t\tcreateElement,\n\t\tFragment,\n\t\tuseState,\n\t},\n\ti18n: {\n\t\t__,\n\t\tsprintf,\n\t},\n\tapiFetch,\n\turl: {\n\t\taddQueryArgs,\n\t},\n} = wp;\n\n/**\n * BuddyPress dependencies.\n */\nconst {\n\tblockComponents: {\n\t\tAutoCompleter,\n\t},\n\tblockData: {\n\t\tisActive,\n\t}\n} = bp;\n\n/**\n * Internal dependencies.\n */\nimport { AVATAR_SIZES, EXTRA_DATA } from './constants';\n\n/**\n * External dependencies.\n */\nconst {\n\treject,\n\tremove,\n\tsortBy,\n} = lodash;\n\nconst getSlugValue = ( item ) => {\n\tif ( item && item.mention_name ) {\n\t\treturn item.mention_name;\n\t}\n\n\treturn null;\n}\n\nconst editMembersBlock = ( { attributes, setAttributes, isSelected } ) => {\n\tconst isAvatarEnabled = isActive( 'members', 'avatar' );\n\tconst isMentionEnabled = isActive( 'activity', 'mentions' );\n\tconst {\n\t\titemIDs,\n\t\tavatarSize,\n\t\tdisplayMentionSlug,\n\t\tdisplayUserName,\n\t\textraData,\n\t\tlayoutPreference,\n\t\tcolumns,\n\t} = attributes;\n\tconst hasMembers = 0 !== itemIDs.length;\n\tconst [ members, setMembers ] = useState( [] );\n\tconst layoutControls = [\n\t\t{\n\t\t\ticon: 'text',\n\t\t\ttitle: __( 'List view', 'buddypress' ),\n\t\t\tonClick: () => setAttributes( { layoutPreference: 'list' } ),\n\t\t\tisActive: layoutPreference === 'list',\n\t\t},\n\t\t{\n\t\t\ticon: 'screenoptions',\n\t\t\ttitle: __( 'Grid view', 'buddypress' ),\n\t\t\tonClick: () => setAttributes( { layoutPreference: 'grid' } ),\n\t\t\tisActive: layoutPreference === 'grid',\n\t\t},\n\t];\n\tlet membersList;\n\tlet containerClasses = 'bp-block-members avatar-' + avatarSize;\n\tlet extraDataOptions = EXTRA_DATA;\n\n\tif ( layoutPreference === 'grid' ) {\n\t\tcontainerClasses += ' is-grid columns-' + columns;\n\t\textraDataOptions = EXTRA_DATA.filter( ( extra ) => {\n\t\t\treturn 'latest_update' !== extra.value;\n\t\t} );\n\t}\n\n\tconst onSelectedMember = ( { itemID } ) => {\n\t\tif ( itemID && -1 === itemIDs.indexOf( itemID ) ) {\n\t\t\tsetAttributes( {\n\t\t\t\titemIDs: [...itemIDs, parseInt( itemID, 10 ) ]\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst onRemoveMember = ( ( itemID ) => {\n\t\tif ( itemID && -1 !== itemIDs.indexOf( itemID ) ) {\n\t\t\tsetMembers( reject( members, ['id', itemID ] ) );\n\t\t\tsetAttributes( {\n\t\t\t\titemIDs: remove( itemIDs, ( value ) => { return value !== itemID } )\n\t\t\t} );\n\t\t}\n\t} );\n\n\tif ( hasMembers && itemIDs.length !== members.length ) {\n\t\tapiFetch( {\n\t\t\tpath: addQueryArgs( `/buddypress/v1/members`, { populate_extras: true, include: itemIDs } ),\n\t\t} ).then( items => {\n\t\t\tsetMembers(\n\t\t\t\tsortBy( items, [ ( item ) => {\n\t\t\t\t\treturn itemIDs.indexOf( item.id );\n\t\t\t\t} ] )\n\t\t\t);\n\t\t} )\n\t}\n\n\tif ( members.length ) {\n\t\tmembersList = members.map( ( member ) => {\n\t\t\tlet hasActivity = false;\n\t\t\tlet memberItemClasses = 'member-content';\n\n\t\t\tif ( layoutPreference === 'list' && 'latest_update' === extraData && member.latest_update && member.latest_update.rendered ) {\n\t\t\t\thasActivity = true;\n\t\t\t\tmemberItemClasses = 'member-content has-activity';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div key={ 'bp-member-' + member.id } className={ memberItemClasses }>\n\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t<Tooltip text={ __( 'Remove member', 'buddypress' ) }>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"is-right\"\n\t\t\t\t\t\t\t\tonClick={ () => onRemoveMember( member.id ) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Remove member', 'buddypress' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Dashicon icon=\"no\"/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isAvatarEnabled && 'none' !== avatarSize && (\n\t\t\t\t\t\t<div className=\"item-header-avatar\">\n\t\t\t\t\t\t\t<a href={ member.link } target=\"_blank\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tkey={ 'avatar-' + member.id }\n\t\t\t\t\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t\t\t\t\t\talt={ sprintf( __( 'Profile photo of %s', 'buddypress' ), member.name ) }\n\t\t\t\t\t\t\t\t\tsrc={ member.avatar_urls[ avatarSize ] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<div className=\"member-description\">\n\t\t\t\t\t\t{ hasActivity && (\n\t\t\t\t\t\t\t<blockquote className=\"wp-block-quote\">\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={ { __html: member.latest_update.rendered } } />\n\t\t\t\t\t\t\t\t<cite>\n\t\t\t\t\t\t\t\t\t{ displayUserName && (\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t{ member.name }\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t{ isMentionEnabled && displayMentionSlug && (\n\t\t\t\t\t\t\t\t\t\t<a href={ member.link } target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t(@{ member.mention_name })\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</cite>\n\t\t\t\t\t\t\t</blockquote>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! hasActivity && displayUserName && (\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t<a href={ member.link } target=\"_blank\">\n\t\t\t\t\t\t\t\t\t{ member.name }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ ! hasActivity && isMentionEnabled && displayMentionSlug && (\n\t\t\t\t\t\t\t<span className=\"user-nicename\">@{ member.mention_name }</span>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ 'last_activity' === extraData && member.last_activity && member.last_activity.date && (\n\t\t\t\t\t\t\t<time dateTime={ member.last_activity.date }>\n\t\t\t\t\t\t\t\t{ sprintf( __( 'Active %s', 'buddypress' ), member.last_activity.timediff ) }\n\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} );\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings', 'buddypress' ) } initialOpen={ true }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display the user name', 'buddypress' ) }\n\t\t\t\t\t\tchecked={ !! displayUserName }\n\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\tsetAttributes( { displayUserName: ! displayUserName } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\tdisplayUserName\n\t\t\t\t\t\t\t\t? __( 'Include the user\\'s display name.', 'buddypress' )\n\t\t\t\t\t\t\t\t: __( 'Toggle to include user\\'s display name.', 'buddypress' )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ isMentionEnabled && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display Mention slug', 'buddypress' ) }\n\t\t\t\t\t\t\tchecked={ !! displayMentionSlug }\n\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\tsetAttributes( { displayMentionSlug: ! displayMentionSlug } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\tdisplayMentionSlug\n\t\t\t\t\t\t\t\t\t? __( 'Include the user\\'s mention name under their display name.', 'buddypress' )\n\t\t\t\t\t\t\t\t\t: __( 'Toggle to display the user\\'s mention name under their display name.', 'buddypress' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ isAvatarEnabled && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Avatar size', 'buddypress' ) }\n\t\t\t\t\t\t\tvalue={ avatarSize }\n\t\t\t\t\t\t\toptions={ AVATAR_SIZES }\n\t\t\t\t\t\t\thelp={ __( 'Select \"None\" to disable the avatar.', 'buddypress' ) }\n\t\t\t\t\t\t\tonChange={ ( option ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { avatarSize: option } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'BuddyPress extra information', 'buddypress' ) }\n\t\t\t\t\t\tvalue={ extraData }\n\t\t\t\t\t\toptions={ extraDataOptions }\n\t\t\t\t\t\thelp={ __( 'Select \"None\" to show no extra information.', 'buddypress' ) }\n\t\t\t\t\t\tonChange={ ( option ) => {\n\t\t\t\t\t\t\tsetAttributes( { extraData: option } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ layoutPreference === 'grid' && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns', 'buddypress' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 4 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ layoutControls } />\n\t\t\t</BlockControls>\n\n\t\t\t{ hasMembers && (\n\t\t\t\t<div className={ containerClasses }>\n\t\t\t\t\t{ membersList }\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ( isSelected || 0 === itemIDs.length ) && (\n\t\t\t\t<Placeholder\n\t\t\t\t\ticon={ hasMembers ? '' : 'groups' }\n\t\t\t\t\tlabel={ hasMembers ? '' : __( 'BuddyPress Members', 'buddypress' ) }\n\t\t\t\t\tinstructions={ __( 'Start typing the name of the member you want to add to the members list.', 'buddypress' ) }\n\t\t\t\t\tclassName={ 0 !== itemIDs.length ? 'is-appender' : 'is-large' }\n\t\t\t\t>\n\t\t\t\t\t<AutoCompleter\n\t\t\t\t\t\tcomponent=\"members\"\n\t\t\t\t\t\tobjectQueryArgs={ { exclude: itemIDs } }\n\t\t\t\t\t\tslugValue={ getSlugValue }\n\t\t\t\t\t\tariaLabel={ __( 'Member\\'s username', 'buddypress' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Enter Member\\'s username here…', 'buddypress' ) }\n\t\t\t\t\t\tonSelectItem={ onSelectedMember }\n\t\t\t\t\t\tuseAvatar={ isAvatarEnabled }\n\t\t\t\t\t/>\n\t\t\t\t</Placeholder>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n};\n\nexport default editMembersBlock;\n","/**\n * WordPress dependencies.\n */\nconst {\n\tblocks: {\n\t\tregisterBlockType,\n\t},\n\ti18n: {\n\t\t__,\n\t},\n} = wp;\n\n/**\n * Internal dependencies.\n */\nimport editMembersBlock from './members/edit';\n\nregisterBlockType( 'bp/members', {\n\ttitle: __( 'Members', 'buddypress' ),\n\tdescription: __( 'BuddyPress Members.', 'buddypress' ),\n\ticon: {\n\t\tbackground: '#fff',\n\t\tforeground: '#d84800',\n\t\tsrc: 'groups',\n\t},\n\tcategory: 'buddypress',\n\tattributes: {\n\t\titemIDs: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'integer',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tavatarSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'full',\n\t\t},\n\t\tdisplayMentionSlug: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tdisplayUserName: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\textraData: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\tlayoutPreference: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'list',\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2\n\t\t},\n\t},\n\tedit: editMembersBlock,\n} );\n"]}